<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Price Predictor - Browser Edition</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìà Stock Price Predictor</h1>
            <p>Powered by XGBoost Machine Learning (Running in Your Browser)</p>
            <div id="loadingPython" style="display: none; margin-top: 10px;">
                <div class="spinner" style="margin: 0 auto;"></div>
                <p style="font-size: 0.9em;">Loading Python environment... (first time only, ~100MB)</p>
            </div>
        </header>

        <main>
            <section class="input-section">
                <div class="input-group">
                    <label for="stockSymbol">Stock Symbol:</label>
                    <input type="text" id="stockSymbol" placeholder="e.g., AAPL, TSLA, MSFT" value="AAPL">
                </div>

                <div class="input-group">
                    <label for="timePeriod">Time Period:</label>
                    <select id="timePeriod">
                        <option value="3mo">3 Months</option>
                        <option value="6mo" selected>6 Months</option>
                        <option value="1y">1 Year</option>
                        <option value="2y">2 Years</option>
                    </select>
                </div>

                <button id="predictBtn" class="predict-btn" disabled>
                    üîÆ Initializing Python...
                </button>
                <p style="margin-top: 10px; font-size: 0.9em; color: #666; text-align: center;">
                    Note: First load downloads ~20MB of Python libraries (one-time, cached in browser)
                </p>
            </section>

            <section id="loadingSection" class="loading-section" style="display: none;">
                <div class="spinner"></div>
                <p id="loadingMessage">Analyzing stock data...</p>
            </section>

            <section id="resultSection" class="result-section" style="display: none;">
                <div class="prediction-card">
                    <h2>Prediction Result</h2>
                    <div id="predictionResult" class="prediction-result"></div>
                </div>

                <div class="chart-card">
                    <h2>Stock Price Chart</h2>
                    <canvas id="priceChart"></canvas>
                </div>

                <div class="metrics-card">
                    <h2>Summary Statistics</h2>
                    <div id="metricsResult" class="metrics-content"></div>
                </div>
            </section>

            <section id="errorSection" class="error-section" style="display: none;">
                <div class="error-message">
                    <h2>‚ö†Ô∏è Error</h2>
                    <p id="errorMessage"></p>
                </div>
            </section>
        </main>

        <footer>
            <p>Built with Python (Pyodide), XGBoost, and ‚ù§Ô∏è | <a href="https://github.com/ryZhangHason" target="_blank">GitHub</a></p>
            <p style="font-size: 0.8em; margin-top: 5px;">Everything runs in your browser - no data sent to servers</p>
        </footer>
    </div>

    <script src="js/browser-app.js"></script>
</body>
</html>
